## 1. AsyncSeriesHook

- AsyncSeriesHook 表示一个异步串行的钩子，可以通过 hook.tapAsync 或 hook.tapPromise 方法，来注册异步的事件回调

#### 1.1 基础使用

- 这些订阅事件的回调依旧是逐个执行，即必须等到上一个异步回调通知钩子它已经执行完毕了，才能开始下一个异步回调

  ```js
  // 初始化异步串行钩子
  const hook = new AsyncSeriesHook(["passenger"]);

  // 使用 tapAsync 订阅事件
  hook.tapAsync("Fly to Beijing", (passenger, callback) => {
    console.log(`${passenger} is on the way to Beijing...`);

    setTimeout(callback, 2000);
  });

  // 使用 tapPromise 订阅事件
  hook.tapPromise("Back to Shenzhen", (passenger) => {
    console.log(`${passenger} is now comming back to Shenzhen...`);

    return new Promise((resolve) => {
      setTimeout(resolve, 3000);
    });
  });

  // 执行订阅回调
  hook.callAsync("VJ", () => {
    console.log("Done!");
  });

  console.log("Starts here...");

  // 输出：
  // VJ is on the way to Beijing...
  // Starts here...
  // VJ is now comming back to Shenzhen...
  // Done!
  ```
