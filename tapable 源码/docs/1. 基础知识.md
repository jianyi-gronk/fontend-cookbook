## 1 Tapable

#### 1.1 Tapable

- Tapable 核心就是一个基于 发布/订阅模式 的 钩子 库

## 2. Hook（ 钩子 ）

- Hook 是 Tapable 中的一个基础类，核心概念是 注册（ 订阅 ）事件 和 拦截器
- 注册事件（Tap）是事件触发时要执行的函数，它可以是同步的也可以是异步的。注册事件可以在事件触发前或触发后执行，也可以在事件触发时修改事件参数。
- 拦截器（Interceptor）是事件触发前或触发后的一个中间件，它可以修改事件参数、取消事件触发、抛出错误等。拦截器可以在事件触发前或触发后执行，也可以在事件触发时修改事件参数。
- 核心属性有 `name`, `taps`, `interceptors`，核心方法有 `tap`, `tapAsync`, `tapPromise`

## 2.

- Tapable 对外提供了如下几种钩子
  ```javascript
  const {
    SyncHook,
    SyncBailHook,
    SyncWaterfallHook,
    SyncLoopHook,
    AsyncParallelHook,
    AsyncParallelBailHook,
    AsyncSeriesHook,
    AsyncSeriesBailHook,
    AsyncSeriesWaterfallHook
  } = require("tapable");
  ```
- 每个钩子拥有自己专属的事件执行机制和触发时机，Webpack 正是利用它们，在不同的编译阶段来调用各插件回调，从而影响编译结果
